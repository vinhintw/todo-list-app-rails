  <div class="mt-5">
    <p class="text-sm font-medium text-gray-700 mb-2"><%= t('tasks.select_tags') %></p>
    <div class="max-h-40 overflow-y-auto border border-gray-300 rounded-md p-2 bg-gray-50">
      <% Tag.all.order(:name).each do |tag| %>
        <div class="flex items-center mb-2">
          <%= check_box_tag "task[tag_ids][]", tag.id, 
              task.tag_ids.include?(tag.id), 
              { 
                id: "task_tag_#{tag.id}",
                class: "mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
              } %>
          <%= label_tag "task_tag_#{tag.id}", tag.name.titleize, 
              class: "text-sm text-gray-700 cursor-pointer" %>
        </div>
      <% end %>
    </div>
  </div>