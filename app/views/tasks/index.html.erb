<% content_for :title, t('tasks.title') %>
<div class="w-full">
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-md inline-block" id="notice"><%= notice %></p>
  <% end %>
  <!-- Mobile Search Bar (below navbar on mobile) -->
  <%= render 'shared/mobile_search_bar' %>
  <div class="flex justify-between items-center p-2">
    <h1 class="font-bold text-4xl"><%= t('tasks.title') %></h1>
    <%= link_to t('tasks.new_task'), new_task_path, class: "rounded-md px-3.5 py-2.5 bg-blue-600 hover:bg-blue-500 text-white block font-medium" %>
  </div>
  <div>
    <p class="text-gray-600 mb-4">
      <%= t('admin..dashboard.total_tasks') %>
      <%= @tasks.total_count %>
    </p>
  </div>
  <!-- Pagination  -->
  <% if @tasks.total_count > 15 %>
    <div class="flex justify-start mt-2 mb-2">
      <%= paginate @tasks, theme: 'tailwind', window: 1 %>
    </div>
  <% end %>
  <div id="tasks" class="min-w-full divide-y divide-gray-200 space-y-5">
    <% if @tasks.any? %>
      <% @tasks.each do |task| %>
        <%= render 'tasks/task_card', task: task, link: true, actions: true %>
      <% end %>
    <% else %>
      <div class="text-center py-12">
        <p class="text-gray-500 text-lg mb-4"><%= t('tasks.no_tasks_found') %></p>
        <%= link_to t('tasks.create_first_task'), new_task_path, class: "rounded-md px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white font-medium" %>
      </div>
    <% end %>
  </div>
</div>
